sequenceDiagram
  participant Client as User
  participant API as API
  participant UserModel as UserModel
  participant Database as Database

  Client ->> API: POST /users (signup request)
  API ->> UserModel: validate_data(email, password, names)
  alt invalid data
    UserModel -->> API: validation error
    API -->> Client: Bad Request
  else valid data
    UserModel ->> Database: check if email exists
    alt email already exists
      Database -->> UserModel: email found
      UserModel -->> API: conflict error
      API -->> Client: Conflict (Email already used)
    else email not found
      Database -->> UserModel: no match
      UserModel ->> Database: INSERT new user
      Database -->> UserModel: success (user_id)
      UserModel -->> API: return new user object
      API -->> Client: Created (user_id, info, token)
    end
  end
